<div class="container-fluid text-center py-4 bg-light position-relative">
  <div class="text-center mb-4">
    <h3 class="fw-bold text-primary">My Network Tree</h3>
  </div>
    <button (click)="goBack()" class="btn btn-sm btn-primary"> <i class="pi pi-backward"></i> Back</button>
 <p class="text-primary p-1">Search User ID</p>  
      <div class="flex justify-content-center">
        <input type="text" pInputText [(ngModel)]="udata.regid" placeholder="Search Userid" class="mr-1" />
        <button class="btn btn-sm btn-danger" (click)="mytree1()">Submit</button>

  <div class="overflow-auto px-2" style="white-space: nowrap;">
    <div class="d-inline-block position-relative">
      <!-- MAIN USER -->
      <div class="d-flex flex-column align-items-center">
        <div class="node-circle main-node">
          <img [src]="getImageByBoardStatus(data2?.main?.boardstatus)" class="img-fluid rounded-circle" alt="Main">
        </div>
        <small class="text-center mt-2 fw-semibold">
          {{ data2?.main?.name }}<br>{{ data2?.main?.regid }}
        </small>

        <!-- Vertical line ↓ -->
        <div class="tree-line-vertical mt-2 mb-2"></div>

        <!-- LEVEL 1: A & B -->
        <div class="d-flex justify-content-center align-items-start gap-custom flex-nowrap position-relative">
          <!-- Horizontal line ➖ -->
          <div class="tree-line-horizontal mt-2 mb-2"></div>

          <!-- User A -->
          <div class="d-flex flex-column align-items-center position-relative">
            <div class="node-circle" >
              <img (click)="mytree(data2?.a?.regid)" [src]="getImageByBoardStatus(data2?.a?.boardstatus)" class="img-fluid rounded-circle" alt="User A">
            </div>
            <small class="text-center mt-2">{{ data2?.a?.name || 'No User' }}<br>{{ data2?.a?.regid || 'No User' }}</small>

            <!-- ↓ Line -->
            <div class="tree-line-vertical mt-2 mb-2"></div>

            <!-- A Children -->
            <div class="d-flex gap-custom flex-nowrap position-relative">
              <!-- Horizontal line ➖ -->
              <div class="tree-line-horizontal child-line"></div>

              <!-- A Left -->
              <div class="d-flex flex-column align-items-center">
                <img [src]="getImageByBoardStatus(data2?.aleft?.boardstatus)" class="img-fluid border border-primary rounded-circle small-node">
                <small class="text-center mt-1">{{ data2?.aleft?.name || 'No User' }}<br>{{ data2?.aleft?.regid || 'No User' }}</small>
              </div>

              <!-- A Right -->
              <div class="d-flex flex-column align-items-center">
                <img [src]="getImageByBoardStatus(data2?.aright?.boardstatus)" class="img-fluid border border-primary rounded-circle small-node">
                <small class="text-center mt-1">{{ data2?.aright?.name || 'No User' }}<br>{{ data2?.aright?.regid || 'No User' }}</small>
              </div>
            </div>
          </div>

          <!-- User B -->
          <div class="d-flex flex-column align-items-center position-relative">
            <div class="node-circle">
              <img (click)="mytree(data2?.a?.regid)" [src]="getImageByBoardStatus(data2?.b?.boardstatus)" class="img-fluid rounded-circle" alt="User B">
            </div>
            <small class="text-center mt-2">{{ data2?.b?.name || 'No User' }}<br>{{ data2?.b?.regid || 'No User' }}</small>

            <!-- ↓ Line -->
            <div class="tree-line-vertical mt-2 mb-2"></div>

            <!-- B Children -->
            <div class="d-flex gap-custom flex-nowrap position-relative">
              <!-- Horizontal line ➖ -->
              <div class="tree-line-horizontal child-line"></div>

              <!-- B Left -->
              <div class="d-flex flex-column align-items-center">
                <img [src]="getImageByBoardStatus(data2?.bleft?.boardstatus)" class="img-fluid border border-primary rounded-circle small-node">
                <small class="text-center mt-1">{{ data2?.bleft?.name || 'No User' }}<br>{{ data2?.bleft?.regid || 'No User' }}</small>
              </div>

              <!-- B Right -->
              <div class="d-flex flex-column align-items-center">
                <img [src]="getImageByBoardStatus(data2?.bright?.boardstatus)" class="img-fluid border border-primary rounded-circle small-node">
                <small class="text-center mt-1">{{ data2?.bright?.name || 'No User' }}<br>{{ data2?.bright?.regid || 'No User' }}</small>
              </div>
            </div>
          </div>
        </div> <!-- End Level 1 -->

      </div>
    </div>
  </div>
</div>
